<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/ ..\FrameXML\UI.xsd">

    <!-- DarkChaos Transmutation UI -->

    <Frame name="DarkChaos_TransmutationFrame" parent="UIParent" movable="true" enableMouse="true" hidden="true" toplevel="true">
        <Size x="600" y="500"/>
        <Anchors>
            <Anchor point="CENTER"/>
        </Anchors>
        <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true">
            <BackgroundInsets>
                <AbsInset left="11" right="12" top="12" bottom="11"/>
            </BackgroundInsets>
            <TileSize>
                <AbsValue val="32"/>
            </TileSize>
            <EdgeSize>
                <AbsValue val="32"/>
            </EdgeSize>
        </Backdrop>

        <Layers>
            <Layer level="ARTWORK">
                <FontString parentKey="TitleText" inherits="GameFontNormalLarge" text="Transmutation Master" justifyH="CENTER">
                    <Anchors>
                        <Anchor point="TOP" x="0" y="-12"/>
                    </Anchors>
                </FontString>
            </Layer>
        </Layers>

        <Frames>
            <Button name="$parentCloseButton" inherits="UIPanelCloseButton">
                <Anchors>
                    <Anchor point="TOPRIGHT" x="-5" y="-5"/>
                </Anchors>
            </Button>

            <!-- Tabs -->
            <Button name="$parentTab1" inherits="CharacterFrameTabButtonTemplate" id="1" text="Conversion">
                <Anchors>
                    <Anchor point="CENTER" relativePoint="BOTTOMLEFT" x="60" y="-10"/>
                </Anchors>
                <Scripts>
                    <OnClick>
                        PanelTemplates_SetTab(DarkChaos_TransmutationFrame, 1);
                        DarkChaos_Transmutation_ShowTab(1);
                    </OnClick>
                </Scripts>
            </Button>
            <Button name="$parentTab2" inherits="CharacterFrameTabButtonTemplate" id="2" text="Exchange">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentTab1" relativePoint="RIGHT" x="-16" y="0"/>
                </Anchors>
                <Scripts>
                    <OnClick>
                        PanelTemplates_SetTab(DarkChaos_TransmutationFrame, 2);
                        DarkChaos_Transmutation_ShowTab(2);
                    </OnClick>
                </Scripts>
            </Button>
            <Button name="$parentTab3" inherits="CharacterFrameTabButtonTemplate" id="3" text="Synthesis">
                <Anchors>
                    <Anchor point="LEFT" relativeTo="$parentTab2" relativePoint="RIGHT" x="-16" y="0"/>
                </Anchors>
                <Scripts>
                    <OnClick>
                        PanelTemplates_SetTab(DarkChaos_TransmutationFrame, 3);
                        DarkChaos_Transmutation_ShowTab(3);
                    </OnClick>
                </Scripts>
            </Button>

            <!-- Tab 1: Tier Conversion -->
            <Frame parentKey="ConversionFrame" hidden="false">
                <Anchors>
                    <Anchor point="TOPLEFT" x="20" y="-40"/>
                    <Anchor point="BOTTOMRIGHT" x="-20" y="40"/>
                </Anchors>
                <Layers>
                    <Layer level="ARTWORK">
                        <FontString inherits="GameFontNormal" text="Drag an item here to convert its tier" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOP" x="0" y="-20"/>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
                <Frames>
                    <Button name="$parentItemSlot" parentKey="ItemSlot" inherits="ItemButtonTemplate">
                        <Size x="64" y="64"/>
                        <Anchors>
                            <Anchor point="CENTER" y="50"/>
                        </Anchors>
                        <Scripts>
                            <OnLoad>
                                this:RegisterForDrag("LeftButton");
                            </OnLoad>
                            <OnClick>
                                DarkChaos_Transmutation_ConversionSlot_OnClick(this, button);
                            </OnClick>
                            <OnEnter>
                                GameTooltip:SetOwner(this, "ANCHOR_RIGHT");
                                if (this.itemLink) then
                                    GameTooltip:SetHyperlink(this.itemLink);
                                else
                                    GameTooltip:SetText("Place Item Here");
                                end
                                GameTooltip:Show();
                            </OnEnter>
                            <OnLeave>
                                GameTooltip:Hide();
                            </OnLeave>
                            <OnReceiveDrag>
                                DarkChaos_Transmutation_ConversionSlot_OnClick(this, "LeftButton");
                            </OnReceiveDrag>
                        </Scripts>
                    </Button>
                    
                    <Button name="$parentConvertButton" inherits="UIPanelButtonTemplate" text="Convert Tier">
                        <Size x="120" y="30"/>
                        <Anchors>
                            <Anchor point="BOTTOM" y="20"/>
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                DarkChaos_Transmutation_DoConversion();
                            </OnClick>
                        </Scripts>
                    </Button>
                </Frames>
            </Frame>

            <!-- Tab 2: Currency Exchange -->
            <Frame parentKey="ExchangeFrame" hidden="true">
                <Anchors>
                    <Anchor point="TOPLEFT" x="20" y="-40"/>
                    <Anchor point="BOTTOMRIGHT" x="-20" y="40"/>
                </Anchors>
                <Layers>
                    <Layer level="ARTWORK">
                        <FontString parentKey="BalanceText" inherits="GameFontHighlightLarge" text="Loading Balances..." justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOP" y="-40"/>
                            </Anchors>
                        </FontString>
                        <FontString parentKey="RateText" inherits="GameFontNormal" text="Exchange Rates" justifyH="CENTER">
                            <Anchors>
                                <Anchor point="TOP" y="-80"/>
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
                <Frames>
                    <Button name="$parentToEssenceBtn" inherits="UIPanelButtonTemplate" text="Tokens -> Essence">
                        <Size x="160" y="40"/>
                        <Anchors>
                            <Anchor point="CENTER" x="-100" y="0"/>
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                DarkChaos_Transmutation_DoExchange(1);
                            </OnClick>
                        </Scripts>
                    </Button>
                    <Button name="$parentToTokensBtn" inherits="UIPanelButtonTemplate" text="Essence -> Tokens">
                        <Size x="160" y="40"/>
                        <Anchors>
                            <Anchor point="CENTER" x="100" y="0"/>
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                DarkChaos_Transmutation_DoExchange(2);
                            </OnClick>
                        </Scripts>
                    </Button>
                </Frames>
            </Frame>

            <!-- Tab 3: Synthesis -->
            <Frame parentKey="SynthesisFrame" hidden="true">
                <Anchors>
                    <Anchor point="TOPLEFT" x="20" y="-40"/>
                    <Anchor point="BOTTOMRIGHT" x="-20" y="40"/>
                </Anchors>
                <Frames>
                    <ScrollFrame name="$parentScroll" inherits="FauxScrollFrameTemplate">
                        <Size x="520" y="350"/>
                        <Anchors>
                            <Anchor point="TOPLEFT" x="0" y="-10"/>
                        </Anchors>
                        <Scripts>
                            <OnVerticalScroll>
                                FauxScrollFrame_OnVerticalScroll(this, offset, 16, DarkChaos_Transmutation_UpdateSynthesisList);
                            </OnVerticalScroll>
                        </Scripts>
                    </ScrollFrame>                    
                    <!-- List Buttons (created manually for simplicity) -->
                    <Button name="$parentButton1" inherits="UIPanelButtonTemplate" text="Recipe 1">
                        <Size x="500" y="20"/>
                        <Anchors><Anchor point="TOPLEFT" x="10" y="-10"/></Anchors>
                    </Button>
                    <Button name="$parentButton2" inherits="UIPanelButtonTemplate" text="Recipe 2">
                        <Size x="500" y="20"/>
                        <Anchors><Anchor point="TOPLEFT" relativeTo="$parentButton1" relativePoint="BOTTOMLEFT" y="-2"/></Anchors>
                    </Button>
                    <Button name="$parentButton3" inherits="UIPanelButtonTemplate" text="Recipe 3">
                        <Size x="500" y="20"/>
                        <Anchors><Anchor point="TOPLEFT" relativeTo="$parentButton2" relativePoint="BOTTOMLEFT" y="-2"/></Anchors>
                    </Button>
                    <Button name="$parentButton4" inherits="UIPanelButtonTemplate" text="Recipe 4">
                        <Size x="500" y="20"/>
                        <Anchors><Anchor point="TOPLEFT" relativeTo="$parentButton3" relativePoint="BOTTOMLEFT" y="-2"/></Anchors>
                    </Button>
                    <Button name="$parentButton5" inherits="UIPanelButtonTemplate" text="Recipe 5">
                        <Size x="500" y="20"/>
                        <Anchors><Anchor point="TOPLEFT" relativeTo="$parentButton4" relativePoint="BOTTOMLEFT" y="-2"/></Anchors>
                    </Button>                </Frames>
            </Frame>

        </Frames>
        <Scripts>
            <OnLoad>
                DarkChaos_Transmutation_OnLoad(this);
            </OnLoad>
            <OnShow>
                DarkChaos_Transmutation_OnShow();
            </OnShow>
        </Scripts>
    </Frame>
</Ui>
